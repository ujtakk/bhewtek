module sram_weight(/*AUTOARG*/);
`include "parameters.vh"
    parameter WORDS = 2 ** WSIZE;

    /*AUTOINPUT*/
    input clk;
    input mem_we;
    input [WSIZE-1:0] mem_addr;
    input [DWIDTH-1:0] write_data;

    /*AUTOOUTPUT*/
    output [DWIDTH-1:0] read_data;

    /*AUTOWIRE*/

    /*AUTOREG*/

    reg [DWIDTH-1:0] mem [WORDS-1:0];
    reg [DWIDTH-1:0] addr_reg;

    always @(posedge clk)
    begin
        if(mem_we)
            mem[mem_addr] <= write_data;
        addr_reg <= mem_addr;
    end

    assign read_data = mem[addr_reg];

endmodule

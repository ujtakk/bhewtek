`timescale 10ps/1ps

module test_pool();
`include "parameters.vh"

    /*AUTOREGINPUT*/

    /*AUTOWIRE*/

    //clock
    always
    begin
        clk = 0;
        #(CLK/2);
        clk = 1;
        #(CLK/2);
    end

    initial
    begin
        #(CLK);
        o_we = 0;
        /* <% for i in 0..3 %> */
        pixel_feat<%=i%> = <%=i%>;
        /* <% end %> */
        #(CLK*2);
        o_we = 1;
        #(CLK*2);
        /*  */
        pixel_feat0 = 8;
        /*  */
        pixel_feat1 = 5;
        /*  */
        pixel_feat2 = 6;
        /*  */
        pixel_feat3 = 1;
        /*  */
        #(CLK*2);
        o_we = 0;
        #(CLK*2);
        /*  */
        pixel_feat0 = 0;
        /*  */
        pixel_feat1 = 5;
        /*  */
        pixel_feat2 = 6;
        /*  */
        pixel_feat3 = 1;
        /*  */
        #(CLK*2);
        o_we = 1;
        #(CLK*2);
        $finish();
    end

    always
    begin
        #(CLK/2-1);
        $display(
            "%d | ", o_we,
            /* <% for i in 0..3 %> */
            "%d ", pixel_feat<%=i%>,
            /* <% end %> */
            "| %d", pmap
        );
        #(CLK/2+1);
    end

    pool dut0(/*AUTOINST*/);

endmodule

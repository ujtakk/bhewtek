`timescale 1ns/1ps

module test_sram_input();
`include "parameters.vh"
    parameter STEP = 1000;

    /*AUTOREGINPUT*/

    /*AUTOWIRE*/

    //clock
    always
    begin
        CLK = 0;
        #(STEP/2);
        CLK = 1;
        #(STEP/2);
    end

    //initial
    //begin
    //    #(CLK);
    //    mem_we = 1;
    //    /* <% for i in 0..63 %> */
    //    mem_addr = <%=i%>;
    //    write_data = <%=2*i%>;
    //    #(CLK);
    //    /* <% end %> */
    //    mem_we = 0;
    //    mem_addr = 1;
    //    write_data = 0;
    //    //sram_input.mem[100] = 334;
    //    #(CLK);
    //    mem_addr = 10;
    //    #(CLK*2);
    //    mem_addr = 63;
    //    #(CLK*2);
    //    mem_addr = 100;
    //    #(CLK*2);
    //    $finish();
    //end

    //always
    //begin
    //    #(CLK/2-1);
    //    $display(
    //        "%d ", mem_we,
    //        "%d ", mem_addr,
    //        "%d | ", write_data,
    //        "%d ", read_data
    //    );
    //    #(CLK/2+1);
    //end
    initial
    begin
        OE = 1'b1;
        ME = 1'b1;
        WEM = 2'b11;
        #(STEP);
        WE = 1;
        /* <% for i in 0..63 %> */
        ADR = <%=i%>;
        D = <%=2*i%>;
        #(STEP);
        /* <% end %> */
        WE = 0;
        ADR = 1;
        D = 0;
        //sram_input.mem[100] = 334;
        #(STEP);
        ADR = 10;
        #(STEP*2);
        ADR = 63;
        #(STEP*2);
        ADR = 100;
        #(STEP*2);
        $finish();
    end

    always
    begin
        #(STEP/2-1);
        $display(
            "%d ", WE,
            "%d ", ADR,
            "%d | ", D,
            "%d ", Q
        );
        #(STEP/2+1);
    end

   rspb18_4kx16m8_g1 dut0(/*AUTOINST*/);

    //sram_input dut0(/*AUTOINST*/);

endmodule
